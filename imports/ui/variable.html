<template name="variable">
  <div class='variable'>
    <h3>{{title}}</h3>
    <div class="variable-value-container">
      <div class="variable-value">
        {{lastValue}}
      </div>
    </div>
    {{#if currentUser}}
      <ul>
        <li>Name: {{name}}</li>
        <li>Last value: {{lastValue}}</li>
      </ul>
      <form class='update-variable-title'>
        <label>Title: </label>
        <input type="text" name="title" placeholder="New title" required="required" autocomplete="off" />
        <input type="submit" value="Set" />
      </form>
    {{/if}}
    {{#if editable}}
      <form class='update-variable-value'>
        <label>Value: </label>
        <input type="number" name="value" placeholder="New value" step="any" required="required" autocomplete="off" />
        <input type="submit" value="Set" />
      </form>
    {{/if}}
    {{#if currentUser}}
      <button class="toggle-editable">
        {{#if editable}}
          Make uneditable
        {{else}}
          Make editable
        {{/if}}
      </button>
      <button class="delete">Delete</button>
    {{/if}}
  </div>
</template>